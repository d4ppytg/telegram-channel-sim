<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>–ö–∞–Ω–∞–ª –ö–æ–Ω—Ç—Ä–æ–ª—å SIM</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div id="preloader" class="full-screen-overlay">
        <div class="preloader-content">
            <img src="preloader_main_image.png" alt="–ö–∞–Ω–∞–ª –ö–æ–Ω—Ç—Ä–æ–ª—å –ó–∞–≥—Ä—É–∑–∫–∞" class="preloader-hero-image">
            <h1 class="preloader-title">–ö–∞–Ω–∞–ª –ö–æ–Ω—Ç—Ä–æ–ª—å</h1>
            <div class="preloader-progress-bar-container">
                <div class="preloader-progress-bar-fill"></div>
            </div>
            <p class="preloader-loading-text">–ó–∞–≥—Ä—É–∑–∫–∞ –∏–≥—Ä–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö...</p>
            <div class="preloader-footer">
                <p>–†–∞–∑—Ä–∞–±–æ—Ç–∞–Ω–æ: <a href="https://t.me/–≤–∞—à_—Ç–µ–ª–µ–≥—Ä–∞–º_–Ω–∏–∫" target="_blank" rel="noopener noreferrer">@–≤–∞—à_—Ç–µ–ª–µ–≥—Ä–∞–º_–Ω–∏–∫</a></p>
            </div>
        </div>
    </div>

    <div id="theme-selection-screen" class="full-screen-overlay" style="display: none;">
        <div class="theme-selection-content">
            <h2>–í—ã–±–µ—Ä–∏—Ç–µ –¢–µ–º–∞—Ç–∏–∫—É –ö–∞–Ω–∞–ª–∞!</h2>
            <p>–û—Ç —ç—Ç–æ–≥–æ –≤—ã–±–æ—Ä–∞ –±—É–¥—É—Ç –∑–∞–≤–∏—Å–µ—Ç—å –≤–∞—à–∏ —Å—Ç–∞—Ä—Ç–æ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –∏ —Ä–µ–∞–∫—Ü–∏—è –∞—É–¥–∏—Ç–æ—Ä–∏–∏.</p>
            <div class="themes-grid">
                <div class="theme-card" data-theme="news"><div class="theme-icon">üì∞</div><h3>–ù–æ–≤–æ—Å—Ç–∏</h3><p>–ë—ã—Å—Ç—Ä—ã–π —Ä–æ—Å—Ç, –≤—ã—Å–æ–∫–∏–π –æ—Ö–≤–∞—Ç. –¢—Ä–µ–±—É–µ—Ç —á–∞—Å—Ç–æ–≥–æ –ø–æ—Å—Ç–∏–Ω–≥–∞.</p></div>
                <div class="theme-card" data-theme="entertainment"><div class="theme-icon">üòÇ</div><h3>–†–∞–∑–≤–ª–µ—á–µ–Ω–∏—è</h3><p>–ú–µ–º—ã –∏ —é–º–æ—Ä. –í—ã—Å–æ–∫–∞—è –≤–∏—Ä–∞–ª—å–Ω–æ—Å—Ç—å. –ê—É–¥–∏—Ç–æ—Ä–∏—è –∞–∫—Ç–∏–≤–Ω–∞.</p></div>
                <div class="theme-card" data-theme="education"><div class="theme-icon">üìö</div><h3>–û–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ</h3><p>–ú–µ–¥–ª–µ–Ω–Ω—ã–π, –Ω–æ —Å—Ç–∞–±–∏–ª—å–Ω—ã–π —Ä–æ—Å—Ç –ª–æ—è–ª—å–Ω–æ–π –∞—É–¥–∏—Ç–æ—Ä–∏–∏.</p></div>
                <div class="theme-card" data-theme="tech"><div class="theme-icon">üíª</div><h3>–¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏</h3><p>–ù–∏—à–µ–≤–∞—è, –Ω–æ –æ—á–µ–Ω—å –≤–æ–≤–ª–µ—á–µ–Ω–Ω–∞—è –∞—É–¥–∏—Ç–æ—Ä–∏—è.</p></div>
            </div>
        </div>
    </div>

    <div id="welcome-screen" class="full-screen-overlay" style="display: none;">
        <div class="welcome-content">
            <h2>–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ –ö–∞–Ω–∞–ª –ö–æ–Ω—Ç—Ä–æ–ª—å!</h2>
            <p>–ú—ã –∏—Å–ø–æ–ª—å–∑—É–µ–º –≤–∞—à Telegram username –¥–ª—è –ø–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∞—Ü–∏–∏.</p>
            <div class="user-info-display">
                <img id="user-photo" src="placeholder-avatar.png" alt="User Avatar" class="avatar-placeholder">
                <p>–í–∞—à Username: <span id="telegram-username-display">–ó–∞–≥—Ä—É–∑–∫–∞...</span></p>
            </div>
            <p class="small-note">(–î–∞–Ω–Ω—ã–µ –ø–æ–ª—É—á–∞—é—Ç—Å—è —Å –≤–∞—à–µ–≥–æ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è —á–µ—Ä–µ–∑ Telegram API)</p>
            <button id="start-game-button">–ù–∞—á–∞—Ç—å –ò–≥—Ä—É!</button>
        </div>
    </div>

    <div id="cutscene-screen" class="full-screen-overlay" style="display: none;">
        <div class="cutscene-slide" id="slide1" style="display: none;">
            <div class="cutscene-logo-placeholder">üí°</div>
            <h2>–ú–µ—á—Ç–∞ –æ –í–µ—Ä—à–∏–Ω–µ</h2>
            <p>–í—ã –≤—Å–µ–≥–¥–∞ —Ö–æ—Ç–µ–ª–∏ —Å–≤–æ–π –ø–æ–ø—É–ª—è—Ä–Ω—ã–π –∫–∞–Ω–∞–ª...</p>
        </div>
        <div class="cutscene-slide" id="slide2" style="display: none;">
            <div class="cutscene-logo-placeholder">üöÄ</div>
            <h2>–í—Ä–µ–º—è –î–µ–π—Å—Ç–≤–æ–≤–∞—Ç—å!</h2>
            <p>–ü—É—Ç—å –∫ —Ç—ã—Å—è—á–∞–º –ø–æ–¥–ø–∏—Å—á–∏–∫–æ–≤ –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è –ø—Ä—è–º–æ —Å–µ–π—á–∞—Å!</p>
        </div>
    </div>

    <div class="studio-container" style="display: none;">
        <header class="studio-header">
            <div class="stats-block">
                <p>–ü–æ–¥–ø–∏—Å—á–∏–∫–∏: <span id="subscribers-count">0</span></p>
                <p>–ë–∞–ª–∞–Ω—Å: $<span id="balance-count">100</span></p>
            </div>
            <div class="mood-block">
                <p>–ù–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ: <span id="audience-mood-display">75</span>%</p>
            </div>
        </header>

        <main class="studio-main">
            <div class="character-wrapper">
                <div id="character-sprite"></div> 
            </div>
            <div class="computer-area">
                <div class="monitor-screen">
                    <!-- –≠—Ç–æ—Ç –±–ª–æ–∫ –±—É–¥–µ—Ç –º–µ–Ω—è—Ç—å—Å—è JS -->
                    <div id="monitor-content-area">
                        <!-- –ù–∞—á–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –º–æ–Ω–∏—Ç–æ—Ä–∞ -->
                        <div id="monitor-idle-content">
                            <p id="channel-name-on-monitor">–ù–∞–∑–≤–∞–Ω–∏–µ –ö–∞–Ω–∞–ª–∞</p>
                            <div id="current-trend-display-monitor" class="trend-banner-monitor" style="display: none;">
                                <p>üî• <span id="trend-description-monitor"></span></p>
                            </div>
                            <button id="start-post-creation-button">–°–æ–∑–¥–∞—Ç—å –ü–æ—Å—Ç</button> 
                        </div>

                        <!-- –®–∞–≥ 1: –í—ã–±–æ—Ä –¢–ò–ü–ê –ø–æ—Å—Ç–∞ (—Å–∫—Ä—ã—Ç –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é) -->
                        <div id="monitor-step1-select-type" class="monitor-creation-step" style="display: none;">
                            <h4>–í—ã–±–µ—Ä–∏—Ç–µ —Ç–∏–ø –ø–æ—Å—Ç–∞:</h4>
                            <div class="monitor-button-group">
                                <button class="monitor-option-button" data-post-type="text">üìù –¢–µ–∫—Å—Ç</button>
                                <button class="monitor-option-button" data-post-type="meme">üòÇ –ú–µ–º</button>
                                <button class="monitor-option-button" data-post-type="video">üé¨ –í–∏–¥–µ–æ</button>
                            </div>
                            <button class="monitor-cancel-button" data-step-to-hide="monitor-step1-select-type">–û—Ç–º–µ–Ω–∞</button>
                        </div>

                        <!-- –®–∞–≥ 2: –í—ã–±–æ—Ä –¢–ï–ú–´ –ø–æ—Å—Ç–∞ (—Å–∫—Ä—ã—Ç –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é) -->
                        <div id="monitor-step2-select-theme" class="monitor-creation-step" style="display: none;">
                            <h4>–í—ã–±–µ—Ä–∏—Ç–µ —Ç–µ–º—É –¥–ª—è <span id="monitor-selected-post-type-name"></span>:</h4>
                            <div id="monitor-themes-grid" class="monitor-themes-selection-grid">
                                <!-- –°—é–¥–∞ JS –±—É–¥–µ—Ç –¥–æ–±–∞–≤–ª—è—Ç—å –∫–Ω–æ–ø–∫–∏ —Ç–µ–º -->
                            </div>
                            <button class="monitor-back-button" data-current-step="monitor-step2-select-theme" data-target-step="monitor-step1-select-type">‚Äπ –ù–∞–∑–∞–¥</button>
                            <button class="monitor-cancel-button" data-step-to-hide="monitor-step2-select-theme">–û—Ç–º–µ–Ω–∞</button>
                        </div>
                        
                        <!-- –®–∞–≥ 3: (–ë—É–¥–µ—Ç –ø–æ–∑–∂–µ) –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∫–∞—á–µ—Å—Ç–≤–∞/—É—Å–∏–ª–∏–π –∏–ª–∏ –º–∏–Ω–∏-–∏–≥—Ä–∞ -->
                        
                    </div>
                </div>
            </div>
                    <div id="channel-feed-placeholder">
                        <p id="channel-name-on-monitor">–ù–∞–∑–≤–∞–Ω–∏–µ –ö–∞–Ω–∞–ª–∞</p>
                        <div id="current-trend-display-monitor" class="trend-banner-monitor" style="display: none;">
                            <p>üî• <span id="trend-description-monitor"></span></p>
                        </div>
                    </div>
                    <div class="monitor-actions">
                        <button id="create-post-button-monitor">–°–æ–∑–¥–∞—Ç—å –ü–æ—Å—Ç</button>
                    </div>
                </div>
            </div>
            <div class="side-panel">
                <button class="icon-button" id="open-upgrades-button" title="–£–ª—É—á—à–µ–Ω–∏—è">‚öôÔ∏è</button>
                <button class="icon-button" id="open-log-button" title="–õ–æ–≥ —Å–æ–±—ã—Ç–∏–π">üìú</button>
            </div>
        </main>
        
        <footer class="studio-footer">
            <p class="footer-text">–ò–≥—Ä–∞ –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ <span id="game-version">v0.8.0</span></p>
        </footer>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω—ã–µ –æ–∫–Ω–∞ -->
    <div id="create-post-modal" class="modal-overlay" style="display: none;">
        <div class="modal-content">
            <span class="close-modal-button" data-modal-id="create-post-modal">√ó</span>
            <h2>–°–æ–∑–¥–∞—Ç—å –ù–æ–≤—ã–π –ü–æ—Å—Ç</h2>
            <div class="modal-actions">
                <button id="post-text-button">–¢–µ–∫—Å—Ç–æ–≤—ã–π –ü–æ—Å—Ç</button>
                <button id="post-meme-button">–ú–µ–º</button>
                <button id="post-video-button">–í–∏–¥–µ–æ—Ä–æ–ª–∏–∫</button>
            </div>
        </div>
    </div>

    <div id="upgrades-modal" class="modal-overlay" style="display: none;">
        <div class="modal-content">
            <span class="close-modal-button" data-modal-id="upgrades-modal">√ó</span>
            <h2>–£–ª—É—á—à–µ–Ω–∏—è –ö–∞–Ω–∞–ª–∞</h2>
            <div class="modal-upgrades">
                <button id="upgrade-content-quality" data-cost="50">–£–ª—É—á—à–∏—Ç—å –∫–∞—á–µ—Å—Ç–≤–æ –∫–æ–Ω—Ç–µ–Ω—Ç–∞ (–°—Ç–æ–∏–º–æ—Å—Ç—å: $50)</button>
            </div>
        </div>
    </div>
    
    <div id="log-modal" class="modal-overlay" style="display: none;">
        <div class="modal-content">
            <span class="close-modal-button" data-modal-id="log-modal">√ó</span>
            <h2>–õ–æ–≥ –°–æ–±—ã—Ç–∏–π</h2>
            <ul id="event-log"></ul>
        </div>
    </div>

    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <script src="script.js"></script>
</body>
</html>
