<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>–ö–∞–Ω–∞–ª –ö–æ–Ω—Ç—Ä–æ–ª—å SIM</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <!-- === –≠–ö–†–ê–ù–´ –î–û –ù–ê–ß–ê–õ–ê –ò–ì–†–´ === -->
    <div id="preloader" class="full-screen-overlay">
        <div class="preloader-content">
            <img src="preloader_main_image.png" alt="–ö–∞–Ω–∞–ª –ö–æ–Ω—Ç—Ä–æ–ª—å –ó–∞–≥—Ä—É–∑–∫–∞" class="preloader-hero-image">
            <h1 class="preloader-title">–ö–∞–Ω–∞–ª –ö–æ–Ω—Ç—Ä–æ–ª—å</h1>
            <div class="preloader-progress-bar-container"><div class="preloader-progress-bar-fill"></div></div>
            <p class="preloader-loading-text">–ó–∞–≥—Ä—É–∑–∫–∞ –∏–≥—Ä–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö...</p>
            <div class="preloader-footer"><p>–†–∞–∑—Ä–∞–±–æ—Ç–∞–Ω–æ: <a href="https://t.me/–≤–∞—à_—Ç–µ–ª–µ–≥—Ä–∞–º_–Ω–∏–∫" target="_blank" rel="noopener noreferrer">@–≤–∞—à_—Ç–µ–ª–µ–≥—Ä–∞–º_–Ω–∏–∫</a></p></div>
        </div>
    </div>

    <div id="theme-selection-screen" class="full-screen-overlay" style="display: none;">
        <div class="theme-selection-content">
            <h2>–í—ã–±–µ—Ä–∏—Ç–µ –¢–µ–º–∞—Ç–∏–∫—É –ö–∞–Ω–∞–ª–∞!</h2><p>–û—Ç —ç—Ç–æ–≥–æ –≤—ã–±–æ—Ä–∞ –±—É–¥—É—Ç –∑–∞–≤–∏—Å–µ—Ç—å –≤–∞—à–∏ —Å—Ç–∞—Ä—Ç–æ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –∏ —Ä–µ–∞–∫—Ü–∏—è –∞—É–¥–∏—Ç–æ—Ä–∏–∏.</p>
            <div class="themes-grid">
                <div class="theme-card" data-theme="news"><div class="theme-icon">üì∞</div><h3>–ù–æ–≤–æ—Å—Ç–∏</h3><p>–ë—ã—Å—Ç—Ä—ã–π —Ä–æ—Å—Ç, –≤—ã—Å–æ–∫–∏–π –æ—Ö–≤–∞—Ç. –¢—Ä–µ–±—É–µ—Ç —á–∞—Å—Ç–æ–≥–æ –ø–æ—Å—Ç–∏–Ω–≥–∞.</p></div>
                <div class="theme-card" data-theme="entertainment"><div class="theme-icon">üòÇ</div><h3>–†–∞–∑–≤–ª–µ—á–µ–Ω–∏—è</h3><p>–ú–µ–º—ã –∏ —é–º–æ—Ä. –í—ã—Å–æ–∫–∞—è –≤–∏—Ä–∞–ª—å–Ω–æ—Å—Ç—å. –ê—É–¥–∏—Ç–æ—Ä–∏—è –∞–∫—Ç–∏–≤–Ω–∞.</p></div>
                <div class="theme-card" data-theme="education"><div class="theme-icon">üìö</div><h3>–û–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ</h3><p>–ú–µ–¥–ª–µ–Ω–Ω—ã–π, –Ω–æ —Å—Ç–∞–±–∏–ª—å–Ω—ã–π —Ä–æ—Å—Ç –ª–æ—è–ª—å–Ω–æ–π –∞—É–¥–∏—Ç–æ—Ä–∏–∏.</p></div>
                <div class="theme-card" data-theme="tech"><div class="theme-icon">üíª</div><h3>–¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏</h3><p>–ù–∏—à–µ–≤–∞—è, –Ω–æ –æ—á–µ–Ω—å –≤–æ–≤–ª–µ—á–µ–Ω–Ω–∞—è –∞—É–¥–∏—Ç–æ—Ä–∏—è.</p></div>
            </div>
        </div>
    </div>

    <div id="welcome-screen" class="full-screen-overlay" style="display: none;">
        <div class="welcome-content">
            <h2>–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ –ö–∞–Ω–∞–ª –ö–æ–Ω—Ç—Ä–æ–ª—å!</h2><p>–ú—ã –∏—Å–ø–æ–ª—å–∑—É–µ–º –≤–∞—à Telegram username –¥–ª—è –ø–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∞—Ü–∏–∏.</p>
            <div class="user-info-display">
                <img id="user-photo" src="placeholder-avatar.png" alt="User Avatar" class="avatar-placeholder">
                <p>–í–∞—à Username: <span id="telegram-username-display">–ó–∞–≥—Ä—É–∑–∫–∞...</span></p>
            </div>
            <p class="small-note">(–î–∞–Ω–Ω—ã–µ –ø–æ–ª—É—á–∞—é—Ç—Å—è —Å –≤–∞—à–µ–≥–æ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è —á–µ—Ä–µ–∑ Telegram API)</p>
            <button id="start-game-button">–ù–∞—á–∞—Ç—å –ò–≥—Ä—É!</button>
        </div>
    </div>

    <div id="cutscene-screen" class="full-screen-overlay" style="display: none;">
        <div class="cutscene-slide" id="slide1" style="display: none;"><div class="cutscene-logo-placeholder">üí°</div><h2>–ú–µ—á—Ç–∞ –æ –í–µ—Ä—à–∏–Ω–µ</h2><p>–í—ã –≤—Å–µ–≥–¥–∞ —Ö–æ—Ç–µ–ª–∏ —Å–≤–æ–π –ø–æ–ø—É–ª—è—Ä–Ω—ã–π –∫–∞–Ω–∞–ª...</p></div>
        <div class="cutscene-slide" id="slide2" style="display: none;"><div class="cutscene-logo-placeholder">üöÄ</div><h2>–í—Ä–µ–º—è –î–µ–π—Å—Ç–≤–æ–≤–∞—Ç—å!</h2><p>–ü—É—Ç—å –∫ —Ç—ã—Å—è—á–∞–º –ø–æ–¥–ø–∏—Å—á–∏–∫–æ–≤ –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è –ø—Ä—è–º–æ —Å–µ–π—á–∞—Å!</p></div>
    </div>
    <!-- === –ö–û–ù–ï–¶ –≠–ö–†–ê–ù–û–í –î–û –ù–ê–ß–ê–õ–ê –ò–ì–†–´ === -->

    <!-- === –û–°–ù–û–í–ù–û–ô –ò–ì–†–û–í–û–ô –ò–ù–¢–ï–†–§–ï–ô–° === -->
    <div id="game-interface" style="display: none;"> 
        <header class="game-header"> 
            <div class="stats-block">
                <p>–ü–æ–¥–ø–∏—Å—á–∏–∫–∏: <span id="subscribers-count">0</span></p>
                <p>–ë–∞–ª–∞–Ω—Å: $<span id="balance-count">100</span></p>
            </div>
            <div class="mood-block">
                <p>–ù–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ: <span id="audience-mood-display">75</span>%</p>
            </div>
        </header>

        <main id="game-screens-container">
            <!-- –≠–ö–†–ê–ù "–°–¢–£–î–ò–Ø" (–ì–õ–ê–í–ù–ê–Ø) -->
            <section id="studioScreen" class="game-screen active-screen">
                <div class="character-wrapper"><div id="character-sprite"></div></div>
                <div class="computer-area">
                    <div class="monitor-screen">
                        <div id="monitor-content-area">
                            <!-- –ù–∞—á–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –º–æ–Ω–∏—Ç–æ—Ä–∞ -->
                            <div id="monitor-idle-content" class="monitor-step active-monitor-step">
                                <p id="channel-name-on-monitor">–ù–∞–∑–≤–∞–Ω–∏–µ –ö–∞–Ω–∞–ª–∞</p>
                                <div id="current-trend-display-monitor" class="trend-banner-monitor" style="display: none;">
                                    <p>üî• <span id="trend-description-monitor"></span></p>
                                </div>
                                <button id="initiate-post-creation-button" class="monitor-main-action-button">–°–æ–∑–¥–∞—Ç—å –ü–æ—Å—Ç</button> 
                            </div>
    
                            <!-- –®–∞–≥ 1: –í—ã–±–æ—Ä —Ç–∏–ø–∞ –ø–æ—Å—Ç–∞ -->
                            <div id="monitor-step-select-type" class="monitor-step" style="display: none;">
                                <h3>–í—ã–±–µ—Ä–∏—Ç–µ —Ç–∏–ø –∫–æ–Ω—Ç–µ–Ω—Ç–∞:</h3>
                                <div class="monitor-options-grid">
                                    <button class="monitor-button" data-post-type="text">üìù –¢–µ–∫—Å—Ç</button>
                                    <button class="monitor-button" data-post-type="meme">üòÇ –ú–µ–º</button>
                                    <button class="monitor-button" data-post-type="video">üé¨ –í–∏–¥–µ–æ</button>
                                </div>
                                <button class="monitor-cancel-button">–û—Ç–º–µ–Ω–∞</button>
                            </div>
    
                            <!-- –®–∞–≥ 2: –í—ã–±–æ—Ä —Ç–µ–º—ã (–ø—Ä–∏–º–µ—Ä –¥–ª—è —Ç–∏–ø–∞ "text") -->
                            <div id="monitor-step-select-theme-text" class="monitor-step" style="display: none;">
                                <h3>–¢–µ–∫—Å—Ç: –í—ã–±–µ—Ä–∏—Ç–µ —Ç–µ–º—É</h3>
                                <div class="monitor-options-grid">
                                    <button class="monitor-theme-button" data-theme-id="news_breaking">–°—Ä–æ—á–Ω—ã–µ –Ω–æ–≤–æ—Å—Ç–∏</button>
                                    <button class="monitor-theme-button" data-theme-id="text_opinion">–õ–∏—á–Ω–æ–µ –º–Ω–µ–Ω–∏–µ</button>
                                    <button class="monitor-theme-button" data-theme-id="text_guide">–ü–æ–ª–µ–∑–Ω—ã–π –≥–∞–π–¥</button>
                                </div>
                                <button class="monitor-back-button" data-target-step-id="monitor-step-select-type">–ù–∞–∑–∞–¥</button>
                                <button class="monitor-cancel-button">–û—Ç–º–µ–Ω–∞</button>
                            </div>
                            
                            <!-- –®–∞–≥ 3: –ú–∏–Ω–∏-–∏–≥—Ä–∞ / –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∫–∞—á–µ—Å—Ç–≤–∞ (–ø—Ä–∏–º–µ—Ä –¥–ª—è —Ç–µ–∫—Å—Ç–∞) -->
                            <div id="monitor-step-quality-text" class="monitor-step" style="display: none;">
                                <h3>–¢–µ–∫—Å—Ç: –ö–∞—á–µ—Å—Ç–≤–æ (–¢–µ–º–∞: <span class="selected-theme-name-monitor"></span>)</h3>
                                <p>–ú–∏–Ω–∏-–∏–≥—Ä–∞ "–†–µ–¥–∞–∫—Ç—É—Ä–∞" (–≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ)</p>
                                <div class="effort-control">
                                    <label for="effort-slider">–£—Ä–æ–≤–µ–Ω—å —É—Å–∏–ª–∏–π:</label>
                                    <input type="range" id="effort-slider" min="1" max="3" value="2"> 
                                    <span id="effort-level-display">–°—Ä–µ–¥–Ω–µ</span>
                                </div>
                                <button class="monitor-publish-button">–û–ü–£–ë–õ–ò–ö–û–í–ê–¢–¨</button>
                                <button class="monitor-back-button" data-target-step-id="monitor-step-select-theme-text">–ù–∞–∑–∞–¥</button>
                                <button class="monitor-cancel-button">–û—Ç–º–µ–Ω–∞</button>
                            </div>
                            <!-- –î–æ–±–∞–≤—å—Ç–µ –∞–Ω–∞–ª–æ–≥–∏—á–Ω—ã–µ monitor-step-select-theme-meme, monitor-step-quality-meme –∏ —Ç.–¥. -->
                        </div>
                    </div>
                </div>
                <div id="live-feedback-container"> </div>
                 <footer class="studio-footer">
                    <p class="footer-text">–ò–≥—Ä–∞ –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ <span id="game-version">v1.0.0</span></p>
                </footer>
            </section>

            <!-- –≠–ö–†–ê–ù "–°–û–ó–î–ê–¢–¨ –ö–û–ù–¢–ï–ù–¢" (–¢–ï–ü–ï–†–¨ –ù–ï –ò–°–ü–û–õ–¨–ó–£–ï–¢–°–Ø –î–õ–Ø –û–°–ù–û–í–ù–û–ì–û –§–õ–û–£) -->
            <section id="createPostScreen" class="game-screen" style="display: none;">
                <div class="screen-content-wrapper"><h2>–°–æ–∑–¥–∞–Ω–∏–µ –ö–æ–Ω—Ç–µ–Ω—Ç–∞ (–ü–µ—Ä–µ–Ω–µ—Å–µ–Ω–æ –Ω–∞ –º–æ–Ω–∏—Ç–æ—Ä)</h2></div>
            </section>

            <!-- –≠–ö–†–ê–ù "–£–õ–£–ß–®–ï–ù–ò–Ø" -->
            <section id="upgradesScreen" class="game-screen" style="display: none;">
                 <div class="screen-content-wrapper">
                    <h2>–£–ª—É—á—à–µ–Ω–∏—è –ö–∞–Ω–∞–ª–∞</h2>
                    <div class="upgrades-list">
                        <div class="upgrade-item">
                            <span class="upgrade-icon">‚≠ê</span>
                            <div class="upgrade-info"><h4>–£–ª—É—á—à–∏—Ç—å –∫–∞—á–µ—Å—Ç–≤–æ –∫–æ–Ω—Ç–µ–Ω—Ç–∞</h4><p>–ü–æ–≤—ã—à–∞–µ—Ç —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –≤—Å–µ—Ö –ø–æ—Å—Ç–æ–≤.</p></div>
                            <button id="upgrade-content-quality" data-cost="50">–£–ª—É—á—à–∏—Ç—å ($<span class="upgrade-cost">50</span>)</button>
                        </div>
                    </div>
                </div>
            </section>

            <section id="rankingsScreen" class="game-screen" style="display: none;">
                <div class="screen-content-wrapper"><h2>üèÜ –ú–∏—Ä–æ–≤–æ–π –†–µ–π—Ç–∏–Ω–≥ –ö–∞–Ω–∞–ª–æ–≤</h2><div id="leaderboard-container"><p>–†–µ–π—Ç–∏–Ω–≥–∏ —Å–∫–æ—Ä–æ –ø–æ—è–≤—è—Ç—Å—è!</p></div></div>
            </section>
        </main>

        <nav class="bottom-nav">
            <button class="nav-button active" data-target-screen="studioScreen" title="–°—Ç—É–¥–∏—è"><span class="nav-icon">üè†</span><span class="nav-text">–°—Ç—É–¥–∏—è</span></button>
            <button class="nav-button" data-target-screen="createPostScreen" title="–°–æ–∑–¥–∞—Ç—å (–ò–Ω—Ñ–æ)"><span class="nav-icon">‚ûï</span><span class="nav-text">–°–æ–∑–¥–∞—Ç—å</span></button>
            <button class="nav-button" data-target-screen="upgradesScreen" title="–£–ª—É—á—à–µ–Ω–∏—è"><span class="nav-icon">üöÄ</span><span class="nav-text">–£–ª—É—á—à–∏—Ç—å</span></button>
            <button class="nav-button" data-target-screen="rankingsScreen" title="–†–µ–π—Ç–∏–Ω–≥"><span class="nav-icon">üèÜ</span><span class="nav-text">–†–µ–π—Ç–∏–Ω–≥</span></button>
        </nav>
        
        <div id="studio-side-panel" class="side-panel" style="display:none;"> 
             <button class="icon-button" id="open-log-button" title="–õ–æ–≥ —Å–æ–±—ã—Ç–∏–π">üìú</button>
        </div>
    </div>

    <div id="log-modal" class="modal-overlay" style="display: none;">
        <div class="modal-content">
            <span class="close-modal-button" data-modal-id="log-modal">√ó</span>
            <h2>–õ–æ–≥ –°–æ–±—ã—Ç–∏–π</h2> <ul id="event-log"></ul>
        </div>
    </div>

    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <script src="script.js"></script>
</body>
</html>
